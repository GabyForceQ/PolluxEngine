/******************************************************************************************************************************
 * Copyright 2020 Gabriel Gheorghe. All rights reserved.
 * This code is licensed under the BSD 3-Clause "New" or "Revised" License
 * License url: https://github.com/GabyForceQ/PolluxEngine/blob/master/LICENSE
 *****************************************************************************************************************************/

#pragma once

namespace Pollux::Core
{
    /**************************************************************************************************************************
     * \class High Resolution Timer
     *************************************************************************************************************************/
    class HighResolutionTimer final
    {
    public:
        /**********************************************************************************************************************
         * \brief Default constructor
         *********************************************************************************************************************/
        HighResolutionTimer();

        /**********************************************************************************************************************
         * \brief Destructor
         *********************************************************************************************************************/
        ~HighResolutionTimer();

        /**********************************************************************************************************************
         * \brief Compute the amount of time since the last tick/creation
         *********************************************************************************************************************/
        void Tick();

        /**********************************************************************************************************************
         * \return Elapsed time since the last tick/creation in seconds
         *********************************************************************************************************************/
        double ElapsedSeconds() const;
        
        /**********************************************************************************************************************
         * \return Elapsed time since the last tick/creation in milliseconds
         *********************************************************************************************************************/
        double ElapsedMilliSeconds() const;
        
        /**********************************************************************************************************************
         * \return Elapsed time since the last tick/creation in microseconds
         *********************************************************************************************************************/
        double ElapsedMicroSeconds() const;

    private:
        class HighResolutionTimerImpl* m_pHighResolutionTimerImpl;
    };
}